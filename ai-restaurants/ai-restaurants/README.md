# 智能餐饮推荐系统

## 项目简介

这是一个基于Spring Boot开发的智能餐饮推荐系统，采用现代化的前后端技术栈，为用户提供个性化的餐饮推荐服务。系统能够根据用户的健康数据、饮食偏好和营养需求，智能推荐最适合的菜品，并生成详细的营养分析报告。

## 功能特色

### 🎯 核心功能
- **智能推荐算法**：基于多因素评分模型（菜系25%、口味20%、食材15%、健康25%、营养15%）
- **个性化推荐**：根据用户饮食偏好、健康状况和营养需求生成推荐
- **安全过滤**：自动过滤过敏原和饮食限制
- **营养分析**：生成详细的营养摄入分析和健康评估报告
- **健康管理**：BMI/BMR计算和健康状态评估

### 🍽️ 菜品管理
- 丰富的菜品库（川菜、粤菜、湘菜、鲁菜、淮扬菜等）
- 详细的营养成分信息
- 多维度筛选和搜索
- 支持动态添加新菜品

### 👤 用户管理
- 完整的用户资料管理
- 健康数据录入和计算
- 饮食偏好设置
- 过敏信息管理

### 📊 营养分析
- 实时营养摄入计算
- 基于BMR的个性化营养建议
- 健康状态评分
- 历史记录追踪

## 技术栈

### 后端技术
- **Spring Boot 2.7+**：主框架
- **Spring Data JPA**：数据访问层
- **H2 Database**：内存数据库
- **Maven**：项目管理

### 前端技术
- **HTML5 + CSS3**：页面结构和样式
- **JavaScript ES6+**：交互逻辑
- **Font Awesome**：图标库
- **响应式设计**：移动端适配

### 架构设计
- **MVC模式**：控制器-服务-数据访问分层
- **RESTful API**：标准REST接口
- **单页应用**：流畅的用户体验

## 快速开始

### 环境要求
- Java 8+
- Maven 3.6+
- 现代浏览器（Chrome、Firefox、Safari、Edge）

### 安装步骤

1. **克隆项目**
```bash
git clone <repository-url>
cd ai-restaurants
```

2. **编译项目**
```bash
mvn clean compile
```

3. **运行应用**
```bash
mvn spring-boot:run
```

4. **访问应用**
- 主页面：http://localhost:8080
- H2数据库控制台：http://localhost:8080/h2-console
  - JDBC URL: `jdbc:h2:mem:restaurant_db`
  - 用户名: `sa`
  - 密码: 留空

## 使用指南

### 1. 用户注册/登录
- 点击导航栏的"登录"按钮
- 首次使用选择"没有账号？去注册"
- 填写个人资料完成注册

### 2. 完善个人资料
- 填写基本信息（年龄、性别、体重、身高）
- 设置饮食偏好（菜系、口味）
- 添加过敏信息
- 系统自动计算BMI和BMR

### 3. 浏览菜品
- 查看系统内置的丰富菜品库
- 使用筛选器按菜系和口味筛选
- 查看详细的营养成分信息
- 管理员可添加新菜品

### 4. 获取推荐
- 选择餐次类型（早餐、午餐、晚餐、加餐）
- 点击"生成推荐"获取个性化推荐
- 查看推荐评分和匹配度详情
- 了解推荐理由

### 5. 营养分析
- 生成个人营养分析报告
- 查看营养摄入汇总
- 获取健康评估和建议
- 查看历史营养记录

## API文档

### 用户管理接口
- `GET /api/users` - 获取所有用户
- `POST /api/users` - 创建用户
- `GET /api/users/{id}` - 获取用户详情
- `PUT /api/users/{id}` - 更新用户信息
- `GET /api/users/username/{username}` - 按用户名查找

### 菜品管理接口
- `GET /api/dishes` - 获取所有菜品
- `POST /api/dishes` - 添加菜品
- `GET /api/dishes/{id}` - 获取菜品详情
- `GET /api/dishes/search` - 多条件搜索菜品

### 推荐服务接口
- `POST /api/recommendations/generate` - 生成推荐
- `GET /api/recommendations/user/{userId}` - 获取用户推荐历史
- `POST /api/recommendations/{id}/feedback` - 提交用户反馈

### 营养分析接口
- `POST /api/nutrition/quick-report/{userId}` - 生成快速营养报告
- `GET /api/nutrition/history/{userId}` - 获取营养历史记录
- `GET /api/nutrition/health-score/{userId}` - 获取健康评分

## 系统特点

### 智能推荐算法
系统采用多因素加权评分模型：
- **菜系匹配度（25%）**：基于用户菜系偏好
- **口味匹配度（20%）**：基于用户口味偏好
- **食材匹配度（15%）**：基于用户食材偏好
- **健康匹配度（25%）**：基于用户健康状况
- **营养匹配度（15%）**：基于营养需求

### 安全过滤机制
- 自动过滤用户过敏原
- 支持饮食限制（素食、清真等）
- 基于健康状况的安全建议

### 营养计算引擎
- BMI指数自动计算
- BMR基础代谢率计算
- 个性化营养需求评估
- 综合健康评分

## 示例数据

系统预置了丰富的示例数据：
- **25道经典菜品**：涵盖川菜、粤菜、湘菜、鲁菜、淮扬菜
- **2个示例用户**：不同性别和饮食偏好
- **完整营养数据**：每道菜品都包含详细营养成分

## 开发说明

### 项目结构
```
src/main/java/com/restaurant/recommendation/
├── entity/          # 实体类
├── repository/      # 数据访问层
├── service/         # 业务逻辑层
├── controller/      # 控制器层
├── dto/            # 数据传输对象
└── config/         # 配置类

src/main/resources/
├── static/         # 静态资源
│   ├── index.html  # 主页面
│   ├── styles.css  # 样式文件
│   └── script.js   # JavaScript脚本
└── application.properties  # 应用配置
```

### 数据库设计
- **User表**：用户基本信息和健康数据
- **Dish表**：菜品信息和营养成分
- **Recommendation表**：推荐记录和评分
- **NutritionReport表**：营养分析报告

### 扩展建议
1. **用户认证**：集成Spring Security
2. **数据持久化**：替换为MySQL/PostgreSQL
3. **缓存优化**：添加Redis缓存
4. **消息队列**：异步处理推荐计算
5. **微服务化**：拆分为多个服务模块

## 许可证

本项目仅用于学习和演示目的。

## 联系信息

如有问题或建议，请通过以下方式联系：
- 项目Issues：提交GitHub Issues
- 邮箱：请在项目中查看贡献者信息

---

**注意**：本系统提供的营养建议仅供参考，具体的健康和营养需求请咨询专业医生或营养师。 